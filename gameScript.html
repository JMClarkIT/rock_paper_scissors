<!DOCTYPE html>
<html>

    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8"/>
    </head>

    <body>
        <script>

            function computerPlay() { 
                let selectors = ["rock", "paper", "scissors"];
                return selectors[Math.floor(Math.random() * selectors.length)];
            }


            function player() {
                let playerChoice = prompt("Pick Rock, Paper, or Scissors").trim().toLowerCase();

                    while (playerChoice !== "rock" && playerChoice !== "paper" && playerChoice !== "scissors") {
                        console.log("Invalid Entry");
                        playerChoice = prompt("Pick Rock, Paper, or Scissors").trim().toLowerCase();
                    }

                    return playerChoice;
                    }

            function playRound() {
                let playerSelection = player();
                let computerSelection = computerPlay();

                if (playerSelection === computerSelection) {
                    return "Draw";
                }

                if (computerSelection === "rock") {
                    if (playerSelection === "paper") {
                        return "You win! Paper beats Rock!"
                    } else {
                        return "You lose! Rock beats " + playerSelection + "!";
                    }
                } else if (computerSelection === "paper") {
                    if (playerSelection === "scissors") {
                        return "You win! Scissors beats Paper!"
                    } else {
                        return "You lose! Paper beats " + playerSelection + "!";
                    }

                } else if (computerSelection === "scissors") {
                    if (playerSelection === "rock") {
                        return "You win! Rock beats Scissors!"
                    } else {
                        return "You lose! Scissors beats " + playerSelection + "!";
                    }
                }
            }

            function game() {

                let computerScore = 0;
                let playerScore = 0;
                let gameCounter = 0;

                while (gameCounter < 5) {
                   let result = playRound();

                    if (result.includes("Draw")) {
                        console.log("This round is a Draw.");
                        gameCounter -= 1;
                    } else if (result.includes("win")) {
                        console.log(`${result}. Player wins this round.`);
                        playerScore += 1;
                    } else if (result.includes("lose")) {
                        console.log(`${result}. Computer wins this round.`);
                        computerScore += 1;
                    }

                    gameCounter += 1;
                }
                
                if (computerScore > playerScore) {
                    return `Computer wins the game. The score is Computer: ${computerScore} and You: ${playerScore} `
                } else {
                    return ` You win the game. The score is Computer: ${computerScore} and You: ${playerScore} `;
                }
            }
            game();

        </script>
    </body>
</html>
